<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Tagelharpa Design Calculator</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&display=swap" rel="stylesheet" />
    
    <!-- UIkit CSS (local copy) -->
    <link rel="stylesheet" href="css/uikit.min.css" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
     <!-- Navbar -->
     <div uk-sticky="animation: uk-animation-slide-top; sel-target: .uk-navbar; cls-active: uk-navbar-sticky;">
        <!-- Navbar content here -->
     <!-- Navbar container -->
<div class="uk-container uk-container-expand" style="background-color: #000;">
    <nav class="uk-navbar" uk-navbar style="background-color: #000; color: #fff;">
      <div class="uk-navbar-left">
        <a class="uk-navbar-item uk-logo navbar-title" href="index.html" aria-label="Home">
          Open Tagelharpa<br>
          <span style="font-size: 0.8rem; color: #fff;">the opensource bowed lyre</span>
        </a>
      </div>
      <div class="uk-navbar-right">
        <!-- Desktop Navigation Links -->
        <ul class="uk-navbar-nav uk-visible@m">
          <li class="uk-active"><a href="index.html" style="color: #fff;">Home</a></li>
          <li><a href="about.html" style="color: #fff;">About</a></li>
        </ul>
        <!-- GitHub Icon -->
        <div class="uk-navbar-item">
          <a class="uk-icon-link" href="https://github.com/wilburforce83" target="_blank" uk-icon="icon: github" style="color: #fff;"></a>
        </div>
        <!-- Mobile toggle -->
        <a class="uk-navbar-toggle uk-hidden@m uk-icon" href="#offcanvas" uk-navbar-toggle-icon uk-toggle aria-label="Open menu"></a>
      </div>
    </nav>
  </div>
     </div>
  
  <!-- Off-canvas mobile menu -->
  <div id="offcanvas" uk-offcanvas="mode: slide; overlay: true;">
    <div class="uk-offcanvas-bar">
      <ul class="uk-nav uk-nav-default">
        <li class="uk-active"><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
      </ul>
    </div>
  </div>
  
      <div class="uk-container uk-margin-top">
      <!-- Introduction and helper -->
      <div class="uk-flex uk-flex-center">
        <div class="uk-card uk-card-small uk-card-body uk-width-1-2@m" id="intro">
          <h4 class="uk-card-title">How to use this calculator</h4>
          <p>The calculator consolidates data from across the internet from research papers to photographs that I have scaled dimensions from. By entering your preferred instrument scale, and the number of strings the calculator will produce a set of drawing to build the instrument.</p>
        </div>
    </div>
      </div>
    <div class="uk-container uk-margin-top" id="pdf-area">
      <div class="uk-column-1-2 uk-column-divider">
        <form class="uk-form-stacked uk-margin">

            <!-- Scale Length -->
            <div>
              <label for="scaleLength" class="uk-form-label"
                >Scale Length (26â€“70 cm):</label
              >
              <input
                type="number"
                id="scaleLength"
                class="uk-input"
                placeholder="e.g. 40"
                step="0.1"
                required
              />
            </div>

            <!-- Number of Strings -->
            <div>
              <label for="numStrings" class="uk-form-label"
                >Number of Strings:</label
              >
              <select id="numStrings" class="uk-select">
                <option value="2">2</option>
                <option value="3" selected>3</option>
                <option value="4">4</option>
              </select>
            </div>

            <!-- Tuning Style -->
            <div>
              <label for="pattern" class="uk-form-label"
                >Tuning Style (interval pattern):</label
              >
              <select id="pattern" class="uk-select">
                <!-- Populated dynamically for chosen number of strings -->
              </select>
            </div>

            <!-- Recommended Tunings -->
            <div>
              <label for="finalTuning" class="uk-form-label"
                >Recommended Tunings:</label
              >
              <select id="finalTuning" class="uk-select">
                <!-- Populated dynamically with feasible tunings -->
              </select>
            </div>
          </div>

          <div class="uk-grid-small uk-child-width-1-2" uk-grid>
            <div>
              <button type="button" id="calculateBtn" class="uk-button uk-button-medium uk-width-1-1">
                Calculate
              </button>
            </div>
            <div>
              <button type="button" id="savePdfButton" class="uk-button uk-button-medium uk-width-1-1" style="display: none;">
                Save as PDF
              </button>
            </div>
          </div>
          
        </form>

          
         <!-- Critical Dimensions & Reference Image -->
        
        <div id="designPrintOut" class="uk-margin-top">
            <h3 class="uk-heading-line"><span>Critical Dimensions Drawings</span></h3>
            <div class="uk-column-1-2 uk-column-divider">
                <div id="talharpaContainer"></div>
                <div id="talharpaSideContainer"></div>
            </div>
            
              <div class="page-break"></div>

         <div id="criticalDimensionsSection" class="uk-margin">
           
              <!-- Left Column: Table -->
              <div>
                <h3>Critical Dimensions</h3>
                <table
                  class="uk-table uk-table-striped"
                  id="criticalDimensionsTable"
                >
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Key</th>
                      <th>Dimension (mm)</th>
                      <th>Comment</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Filled dynamically -->
                  </tbody>
                </table>
              </div>
            </div>
            <!--Suggested Frame Build Drawing-->
            <div class="page-break"></div>
            <h3 class="uk-heading-line"><span>Suggested Build Process</span></h3>
            <div class="uk-column-1-2 uk-column-divider">
                <div id="talharpaFrameContainer"> 
                </div>
            </div>
            <!-- String Material Recommendations -->
            <div class="page-break"></div>

            <div class="uk-margin">
              <h3>String Material Recommendations</h3>
              <table class="uk-table uk-table-striped" id="stringTable">
                <thead>
                  <tr>
                    <th>String #</th>
                    <th>Note</th>
                    <th>Gut</th>
                    <th>Horse Hair</th>
                    <th>Dacron (Multi-Strand)</th>
                    <th>Fishing Line (Multi-Strand)</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Filled dynamically -->
                </tbody>
              </table>
            </div>
          </div>
          <div class="uk-container">
       

            <!-- Single-Octave Scale Table -->
            <div id="noteDistanceTable" class="uk-margin"></div>
            <div class="page-break"></div>
            
          </div>
        </div>
      
      

    </div>
      
       

    </div>
    <!-- Spinner Overlay -->
<div
id="spinnerOverlay"
style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #fff; z-index: 9999; align-items: center; justify-content: center;"
>
<div uk-spinner="ratio: 3"></div>
</div>


    <!-- UIkit JS (local copies) -->
    <script src="js/uikit.min.js"></script>
    <script src="js/uikit-icons.min.js"></script>
    <script src="js/html2pdf.bundle.min.js"></script>


    <!-- Custom JS -->
    <script src="js/main.js"></script>
    <script src="js/drawFront.js"></script>
    <script src="js/drawSide.js"></script>
    <script src="js/drawFrame.js"></script>
    <script src="js/saveToPdf.js"></script>
  </body>
</html>
